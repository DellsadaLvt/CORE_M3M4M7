/*
 * Privileged.c
 *
 *  Created on: Aug 22, 2021
 *      Author: LAPTOP
 */

#include "Privileged.h"

void changeToUnprivileged( void ){
	/* read value of control register into R0 */
	__asm volatile ("MRS R0,CONTROL");
	/* modify */
	__asm volatile ("ORR R0,RO,#1");
	/* change to unprivileged mode */
	__asm volatile ("MSR CONTROL,R0");
}


void changeToPrivileged( void ){
	/* read value of control register into R0 */
		__asm volatile ("MRS R0,CONTROL");
		/* modify */
		__asm volatile ("AND R0,RO,#2");
		/* change to unprivileged mode */
		__asm volatile ("MSR CONTROL,R0");
}











